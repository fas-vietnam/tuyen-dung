(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1046:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(43),c=(a(130),a(52),a(68),a(28),a(83),a(36),a(25),a(54),a(4),a(57),a(5),{data:function(){return{selectedFile:null,fileMau:'2022/08/13 0:00:00,"82121-B1571-W",32,"62SM10","1",3,2022/08/13 0:00:00,"4530",,"CA4","F1-22"',csvData:[],loading:!1,fileNames:[],selectedCheckOpt:"SP NHÔM + BATTERY",checkOptBefore:null,checkOptionsItems:[{text:"Lọc SP NHÔM + BATTERY",value:"SP NHÔM + BATTERY",color:"pink"},{text:"Lọc SP NHÔM",value:"SP_NHÔM",color:"green lighten-3"},{text:"Lọc SP BATTERY",value:"SP_BATTERY",color:"blue darken-2"}]}},head:function(){return{title:"Lọc Sản Phẩm Dây Nhôm"}},computed:{},methods:{readCSVFile:function(e){},onSelectedFileChange:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function a(){var r,c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&!(e.length<1)){a.next=2;break}return a.abrupt("return");case 2:t.fileNames=[],a.prev=3,r=regeneratorRuntime.mark((function a(r){var c,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$readCSV2(e[r]);case 2:o=a.sent,t.fileNames.push(e[r].name.replace(/\.[^/.]+$/,"")),o=o.map((function(t){var a=t.split(",")[1].replace(/^"(.*)"$/,"$1");return{content:t,hin:a,fileName:e[r].name.replace(/\.[^/.]+$/,"")}})),(c=t.csvData).push.apply(c,Object(n.a)(o));case 6:case"end":return a.stop()}}),a)})),c=0;case 6:if(!(c<e.length)){a.next=11;break}return a.delegateYield(r(c),"t0",8);case 8:c++,a.next=6;break;case 11:if(console.log(t.csvData),"SP_NHÔM"!=t.selectedCheckOpt){a.next=17;break}return a.next=15,t.kiemTraDayNhom();case 15:a.next=26;break;case 17:if("SP_BATTERY"!=t.selectedCheckOpt){a.next=22;break}return a.next=20,t.kiemTraDayBattery();case 20:a.next=26;break;case 22:return a.next=24,t.kiemTraDayBattery();case 24:return a.next=26,t.kiemTraDayNhom();case 26:t.selectedFile=null,t.csvData=[],a.next=33;break;case 30:a.prev=30,a.t1=a.catch(3),console.log(a.t1);case 33:case"end":return a.stop()}}),a,null,[[3,30]])})))()},onOptionsChanged:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$CONFIRM(t,"Xác Nhận","Bạn muốn chuyển điều kiện lọc sang <span style='color:red;'><b>".concat(e,"</b></span>?"),{persistent:!0,color:"orange",okText:"OK",spacer:!0,disableCancel:!1});case 2:if(a.sent){a.next=4;break}t.selectedCheckOpt=t.checkOptBefore.toString();case 4:case"end":return a.stop()}}),a)})))()},onMouseDown:function(e){this.checkOptBefore=this.selectedCheckOpt.toString()},kiemTraDayNhom:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(a,n){var r,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.csvData.length<1)){t.next=3;break}return a(!1),t.abrupt("return");case 3:return t.prev=3,e.loading=!0,t.next=7,e.$axios.post("loc-san-pham-chi-thi/loc-day-nhom",{hin:e.csvData.map((function(e){return e.hin}))});case 7:if(r=t.sent,e.loading=!1,!r.data.data||"success"!=r.data.status){t.next=25;break}c={},r.data.data.forEach((function(t,a){1==t.C_DAY_NHOM&&(c[e.csvData[a].fileName]?c[e.csvData[a].fileName].push(e.csvData[a].content):c[e.csvData[a].fileName]=[e.csvData[a].content])})),o=0;case 13:if(!(o<e.fileNames.length)){t.next=23;break}if(!c[e.fileNames[o]]){t.next=19;break}return t.next=17,e.$exportTextFile(c[e.fileNames[o]],e.fileNames[o]+"_SP_NHOM.csv");case 17:t.next=20;break;case 19:e.$toast.show('"'.concat(e.fileNames[o],'" ➡ Không có SP Dây Nhôm! '),{duration:5e3,position:"bottom-center"});case 20:o++,t.next=13;break;case 23:t.next=26;break;case 25:e.$toast.show("ERROR!!",{duration:5e3,position:"bottom-center"});case 26:a(!0),t.next=33;break;case 29:t.prev=29,t.t0=t.catch(3),console.log(t.t0),n(t.t0);case 33:return t.prev=33,e.loading=!1,t.finish(33);case 36:case"end":return t.stop()}}),t,null,[[3,29,33,36]])})));return function(e,a){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})))()},kiemTraDayBattery:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(a,n){var r,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.csvData.length<1)){t.next=3;break}return a(!1),t.abrupt("return");case 3:return t.prev=3,e.loading=!0,t.next=7,e.$axios.post("loc-san-pham-chi-thi/loc-day-battery",{hin:e.csvData.map((function(e){return e.hin}))});case 7:if(r=t.sent,e.loading=!1,!r.data.data||"success"!=r.data.status){t.next=25;break}c={},r.data.data.forEach((function(t,a){1==t.C_DAY_BATTERY&&(c[e.csvData[a].fileName]?c[e.csvData[a].fileName].push(e.csvData[a].content):c[e.csvData[a].fileName]=[e.csvData[a].content])})),o=0;case 13:if(!(o<e.fileNames.length)){t.next=23;break}if(!c[e.fileNames[o]]){t.next=19;break}return t.next=17,e.$exportTextFile(c[e.fileNames[o]],e.fileNames[o]+"_SP_BAT.csv");case 17:t.next=20;break;case 19:e.$toast.show('"'.concat(e.fileNames[o],'" ➡ Không có SP Dây Battery! '),{duration:5e3,position:"bottom-center"});case 20:o++,t.next=13;break;case 23:t.next=26;break;case 25:e.$toast.show("ERROR!!",{duration:5e3,position:"bottom-center"});case 26:a(!0),t.next=33;break;case 29:t.prev=29,t.t0=t.catch(3),console.log(t.t0),n(t.t0);case 33:return t.prev=33,e.loading=!1,t.finish(33);case 36:case"end":return t.stop()}}),t,null,[[3,29,33,36]])})));return function(e,a){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})))()}}}),o=c,s=(a(990),a(82)),i=a(111),u=a.n(i),l=a(413),p=a(415),f=a(414),h=a(418),x=a(417),d=Object(s.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[a("h1",[e._v("Lọc Sản Phẩm Chỉ Thị")]),e._v(" "),a("h2",[e._v("Seigi FAVV")]),e._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("div",[a("span",[e._v("Định dạng file đầu vào:")]),e._v(" "),a("pre",{staticStyle:{"background-color":"turquoise","text-align":"left","white-space":"pre-line"}},[e._v("\t\t\t\t"+e._s(e.fileMau)+"\n\t\t\t")]),e._v(" "),a("v-radio-group",{attrs:{row:"","background-color":"grey"},on:{change:e.onOptionsChanged,mousedown:e.onMouseDown},model:{value:e.selectedCheckOpt,callback:function(t){e.selectedCheckOpt=t},expression:"selectedCheckOpt"}},[a("v-layout",e._l(e.checkOptionsItems,(function(e){return a("v-flex",{key:e.value},[a("v-radio",{attrs:{value:e.value,label:e.text,color:e.color,dark:""}})],1)})),1)],1),e._v(" "),a("v-file-input",{attrs:{multiple:"",color:"black",accept:".csv",placeholder:"Chọn File"},on:{change:e.onSelectedFileChange},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})],1)])],1)}),[],!1,null,null,null);t.default=d.exports;u()(d,{VFileInput:l.a,VFlex:p.a,VLayout:f.a,VRadio:h.a,VRadioGroup:x.a})},974:function(e,t,a){var n=a(991);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a(13).default)("5b16810e",n,!0,{sourceMap:!1})},990:function(e,t,a){"use strict";a(974)},991:function(e,t,a){var n=a(12)(!1);n.push([e.i,".v-slider span{font-size:20px}h1{color:#ff7043}h2{margin-top:10px;margin-bottom:10px;color:#666}h1{display:inline-block;color:#fff;font-size:28pt;letter-spacing:4px;text-shadow:2px 2px 1px #d84315,-2px 2px 1px #d84315,2px -2px 1px #d84315,-2px -2px 1px #d84315,2px 0 1px #d84315,0 2px 1px #d84315,-2px 0 1px #d84315,0 -2px 1px #d84315}h1.timer{font-size:65px}h1.finishMessage,h1.timer{margin-top:30px;margin-bottom:30px}h1.finishMessage{font-size:42px}",""]),e.exports=n}}]);
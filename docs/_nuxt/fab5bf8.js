(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1e3:function(t,e,a){"use strict";a(976)},1001:function(t,e,a){var n=a(12)(!1);n.push([t.i,"",""]),t.exports=n},1048:function(t,e,a){"use strict";a.r(e);var n=a(20),i=a(43),s=(a(130),a(7),a(4),a(5),a(77),a(994)),r=a.n(s),o=(a(998),{ref:"#spreadsheet",data:function(){return{title:"使用データ",isDataBK:!1,refresh:!1,loading:!1,dialog:!1,hin_error:[],spreadsheet:null}},mounted:function(){this.$nuxt.$emit("page-info",{title:this.title,version:"1.0.0",options:{replace:!0}});var t={data:this.hinbanData,columns:[{type:"text",title:"C_HIN",width:"300px",align:"left"},{type:"text",title:"L_SET",width:"150px",align:"left"}],onchange:this.onDataTableChange,ondeleterow:this.onDataTableChange,includeHeadersOnDownload:!0,columnSorting:!1,rowDrag:!1,csvFileName:"a.xlsx",search:!1,lazyLoading:!0,loadingSpin:!0,tableOverflow:!0,tableHeight:"100%",tableWidth:"100%",noRecordsFound:"Không có dữ liệu",areYouSureToDeleteTheSelectedRows:"Bạn có chắc muốn xóa dòng này?"};this.spreadsheet=r()(this.$refs.spreadsheet,t)},computed:{hinbanData:function(){for(var t=[],e=0;e<25;e++)t.push({C_HIN:"",L_SET:null});return t},sheetHaveData:function(){return this.refresh,!!this.spreadsheet&&this.spreadsheet.getData().filter((function(t){return t[0]||t[1]})).length>0}},methods:{btnGetDataClick:function(){var t={c_hins:[],l_sets:[],fromDataSource:this.isDataBK?"2":"1"};this.spreadsheet.getData().forEach((function(e){e[0]&&""!==e[0].trim()&&(t.c_hins.push(e[0].trim()),t.l_sets.push(!isNaN(e[1])&&e[1]?parseInt(e[1]):1))})),console.log(t),t.c_hins.length>0&&this.getDT(t)},getDT:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.loading=!0,a.next=4,e.$axios.post("shiyoudata/find",t);case 4:i=a.sent,console.log(i),e.loading=!1,i.data.shiyoudata.length>0&&e.$exportXLSX(e,i.data.shiyoudata,"shiyoudata_"+e.$date2String(new Date,"yyyymmddhhnnss")),i.data.hin_error.length>0&&!e.isDataBK&&(e.hin_error=Object(n.a)(i.data.hin_error),e.dialog=!0),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0),e.loading=!1;case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},reSearch:function(){this.isDataBK=!0,this.spreadsheet.setData(this.hin_error),this.dialog=!1,this.$refs.downloadbtn.$el.click()},getSheetData:function(){console.log(this.spreadsheet.getData())},setSheetData:function(){this.spreadsheet.setData([{C_HIN:"FAVV-FAPV-9999",L_SET:1}]),this.onDataTableChange()},onDataTableChange:function(){this.refresh=!this.refresh}}}),l=(a(1e3),a(82)),c=a(111),d=a.n(c),h=a(402),u=a(239),v=a(393),p=a(98),g=a(396),_=a(200),f=a(404),b=a(202),m=a(394),x=a(240),D=a(398),w=a(395),k=a(419),y=a(103),C=Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"shiyoudata-page"}},[a("v-toolbar",{attrs:{color:"secondary",dense:""}},[a("v-switch",{attrs:{label:"Tìm trong dữ liệu Backup",color:"red",inset:"","hide-details":""},model:{value:t.isDataBK,callback:function(e){t.isDataBK=e},expression:"isDataBK"}}),t._v(" "),a("v-divider",{attrs:{vertical:""}}),t._v(" "),a("v-btn",{ref:"downloadbtn",staticClass:"ma-2 white--text",attrs:{color:"pink",disabled:!1,small:t.$nuxt.context.isMobile},on:{click:t.btnGetDataClick}},[t._v("\n\t\t\tLấy dữ liệu!\n\t\t\t"),t.$nuxt.context.isMobile?t._e():a("v-icon",{class:t.loading?"mdi-spin":"",attrs:{right:"",dark:""}},[t._v("\n\t\t\t\tmdi-cloud-download\n\t\t\t")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"yellow darken-4",disabled:!t.sheetHaveData,small:t.$nuxt.context.isMobile},on:{click:function(e){return t.spreadsheet.setData(t.hinbanData)}}},[t._v("\n\t\t\tNhập Lại\n\t\t\t"),t.$nuxt.context.isMobile?t._e():a("v-icon",{attrs:{right:"",dark:""}},[t._v("\n\t\t\t\tmdi-window-close\n\t\t\t")])],1)],1),t._v(" "),a("div",[a("v-alert",{staticClass:"mb-0 py-1 font-italic",attrs:{text:"",color:""}},[a("v-icon",{staticClass:"mdi-spin mdi-36px",attrs:{color:"warning"}},[t._v("mdi-radioactive")]),t._v(" "),a("span",{staticClass:"green--text text-decoration-underline"},[t._v("\n\t\t\t\tNhập dữ liệu vào lưới(Enter thêm dòng mới) hoặc dán từ\n\t\t\t\tExcel")])],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"3"}}),t._v(" "),a("v-col",[a("div",{ref:"spreadsheet"})])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"50%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("\n\t\t\t\tCó 1 số sản phẩm không tìm thấy dữ liệu!\n\t\t\t")]),t._v(" "),a("v-card-text",[t._v("Bạn có muốn tìm tiếp trong dữ liệu backup\n\t\t\t\tkhông?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n\t\t\t\t\tKhông\n\t\t\t\t")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.reSearch}},[t._v("\n\t\t\t\t\tOK\n\t\t\t\t")])],1)],1)],1),t._v(" "),a("v-overlay",{attrs:{value:t.loading}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}}),t._v(" "),a("div",[t._v("Xin hãy chờ...")])],1)],1)}),[],!1,null,null,null);e.default=C.exports;d()(C,{VAlert:h.a,VBtn:u.a,VCard:v.a,VCardActions:p.b,VCardText:p.d,VCardTitle:p.e,VCol:g.a,VDialog:_.a,VDivider:f.a,VIcon:b.a,VOverlay:m.a,VProgressCircular:x.a,VRow:D.a,VSpacer:w.a,VSwitch:k.a,VToolbar:y.a})},976:function(t,e,a){var n=a(1001);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(13).default)("b94ec8ba",n,!0,{sourceMap:!1})}}]);